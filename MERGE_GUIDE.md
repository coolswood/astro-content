# –°–∫—Ä–∏–ø—Ç –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è JSON —Ñ–∞–π–ª–æ–≤

–°–∫—Ä–∏–ø—Ç `merge_files.py` –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—ä–µ–¥–∏–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ JSON —Ñ–∞–π–ª–æ–≤ –≤ –æ–¥–∏–Ω –æ–±—â–∏–π —Ñ–∞–π–ª –¥–ª—è –≤—Å–µ—Ö —è–∑—ã–∫–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

```bash
python3 merge_files.py --category <–∫–∞—Ç–µ–≥–æ—Ä–∏—è> --files <—Ñ–∞–π–ª1 —Ñ–∞–π–ª2 —Ñ–∞–π–ª3> --output <–∏–º—è_–≤—ã—Ö–æ–¥–Ω–æ–≥–æ_—Ñ–∞–π–ª–∞>
```

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

- `--category`: –ö–∞—Ç–µ–≥–æ—Ä–∏—è —Ñ–∞–π–ª–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `depression`, `distortions`)
- `--files`: –°–ø–∏—Å–æ–∫ –∏–º–µ–Ω —Ñ–∞–π–ª–æ–≤ –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è (–±–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è `.json`)
- `--output`: –ò–º—è –≤—ã—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ (–±–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è `.json`)

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

- `--languages`: –°–ø–∏—Å–æ–∫ —è–∑—ã–∫–æ–≤ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —è–∑—ã–∫–∏)
- `--base-path`: –ë–∞–∑–æ–≤—ã–π –ø—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å —è–∑—ã–∫–∞–º–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `src/i18n`)
- `--dry-run`: –¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–æ–≤, –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- `--compact`: –°–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π JSON –±–µ–∑ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –¥–µ–ø—Ä–µ—Å—Å–∏–∏ –¥–ª—è –≤—Å–µ—Ö —è–∑—ã–∫–æ–≤

```bash
python3 merge_files.py \
  --category depression \
  --files control death diagnostic \
  --output control_death_diagnostic
```

### 2. –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏—Å–∫–∞–∂–µ–Ω–∏–π –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —è–∑—ã–∫–æ–≤

```bash
python3 merge_files.py \
  --category distortions \
  --files achievements approval autonomy \
  --output achievements_approval_autonomy \
  --languages ru en de fr es
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Ñ–∞–π–ª–æ–≤ –±–µ–∑ —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

```bash
python3 merge_files.py \
  --category depression \
  --files control death diagnostic \
  --output control_death_diagnostic \
  --dry-run
```

### 4. –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–∞–∫—Ç–Ω–æ–≥–æ JSON —Ñ–∞–π–ª–∞

```bash
python3 merge_files.py \
  --category distortions \
  --files achievements approval \
  --output achievements_approval \
  --compact
```

### 5. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µËá™ÂÆö‰πâ –±–∞–∑–æ–≤–æ–≥–æ –ø—É—Ç–∏

```bash
python3 merge_files.py \
  --category depression \
  --files control death \
  --output control_death \
  --base-path /custom/path/to/i18n
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–°–∫—Ä–∏–ø—Ç –æ–∂–∏–¥–∞–µ—Ç —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π:

```
src/i18n/
‚îú‚îÄ‚îÄ ru/
‚îÇ   ‚îî‚îÄ‚îÄ story/
‚îÇ       ‚îú‚îÄ‚îÄ depression/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ control.json
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ death.json
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ diagnostic.json
‚îÇ       ‚îî‚îÄ‚îÄ distortions/
‚îÇ           ‚îú‚îÄ‚îÄ achievements.json
‚îÇ           ‚îú‚îÄ‚îÄ approval.json
‚îÇ           ‚îî‚îÄ‚îÄ autonomy.json
‚îú‚îÄ‚îÄ en/
‚îÇ   ‚îî‚îÄ‚îÄ story/
‚îÇ       ‚îú‚îÄ‚îÄ depression/
‚îÇ       ‚îî‚îÄ‚îÄ distortions/
‚îî‚îÄ‚îÄ ... (–¥—Ä—É–≥–∏–µ —è–∑—ã–∫–∏)
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã

–î–ª—è –∫–∞–∂–¥–æ–≥–æ —è–∑—ã–∫–∞ —Å–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞—Å—Ç –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã–π —Ñ–∞–π–ª –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:

```
src/i18n/
‚îú‚îÄ‚îÄ ru/story/depression/control_death_diagnostic.json
‚îú‚îÄ‚îÄ en/story/depression/control_death_diagnostic.json
‚îú‚îÄ‚îÄ de/story/depression/control_death_diagnostic.json
‚îî‚îÄ‚îÄ ... (–¥–ª—è –≤—Å–µ—Ö —è–∑—ã–∫–æ–≤)
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—ã—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞

```json
{
  "control": {
    // —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ control.json
  },
  "death": {
    // —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ death.json
  },
  "diagnostic": {
    // —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ diagnostic.json
  }
}
```

## –ü–æ–ª–µ–∑–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–æ–≤

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —è–∑—ã–∫–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `src/i18n`:
- –î–≤—É—Ö–±—É–∫–≤–µ–Ω–Ω—ã–µ –∫–æ–¥—ã —è–∑—ã–∫–æ–≤ (ru, en, de, fr, –∏ —Ç.–¥.)
- –û—Å–æ–±—ã–µ —Å–ª—É—á–∞–∏ (pt_br)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Ñ–∞–π–ª–æ–≤

–ü–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º —Ñ–∞–π–ª–æ–≤ —Å–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –Ω–∞–ª–∏—á–∏—è –∏—Å—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:

```
üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Ñ–∞–π–ª–æ–≤:
--------------------------------------------------
‚úÖ ar: 3/3 —Ñ–∞–π–ª–æ–≤
‚ö†Ô∏è  de: 2/3 —Ñ–∞–π–ª–æ–≤
‚ùå fr: 0/3 —Ñ–∞–π–ª–æ–≤

–ò—Ç–æ–≥–æ: 5/9 —Ñ–∞–π–ª–æ–≤ –Ω–∞–π–¥–µ–Ω–æ
```

### –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–π –≤—ã–≤–æ–¥

–°–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã:

```
üåç –Ø–∑—ã–∫–∏ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏: ru, en, de
üìÅ –ö–∞—Ç–µ–≥–æ—Ä–∏—è: depression
üìÑ –§–∞–π–ª—ã –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è: control, death, diagnostic
üíæ –í—ã—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª: control_death_diagnostic.json

üöÄ –ù–∞—á–∏–Ω–∞–µ–º –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤...

üìù –û–±—Ä–∞–±–æ—Ç–∫–∞ —è–∑—ã–∫–∞: ru
‚úÖ ru/depression/control.json - –¥–æ–±–∞–≤–ª–µ–Ω
‚úÖ ru/depression/death.json - –¥–æ–±–∞–≤–ª–µ–Ω
‚úÖ ru/depression/diagnostic.json - –¥–æ–±–∞–≤–ª–µ–Ω
‚úÖ ru: —Å–æ–∑–¥–∞–Ω control_death_diagnostic.json (45231 –±–∞–π—Ç)

üéâ –ì–æ—Ç–æ–≤–æ! –£—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–æ: 1/1 —Ñ–∞–π–ª–æ–≤
```

## –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–µ–Ω–µ–Ω–Ω—ã–µ –≥—Ä—É–ø–ø—ã —Ñ–∞–π–ª–æ–≤ –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è

### Depression —Ñ–∞–π–ª—ã:
```bash
python3 merge_files.py --category depression --files control death diagnostic --output control_death_diagnostic
```

### Distortions —Ñ–∞–π–ª—ã:
```bash
python3 merge_files.py --category distortions --files achievements approval autonomy --output achievements_approval_autonomy
python3 merge_files.py --category distortions --files key love omnipotence --output key_love_omnipotence
```

### –î—Ä—É–≥–∏–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –≥—Ä—É–ø–ø—ã:
```bash
# –ò–Ω–≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å –∏ –±–æ–ª–µ–∑–Ω–∏
python3 merge_files.py --category depression --files disability disease --output disability_disease

# –û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –∏ –≤–∏–Ω–∞
python3 merge_files.py --category depression --files duty guilt --output duty_guilt

# –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∏ –ø–µ—Ä—Ñ–µ–∫—Ü–∏–æ–Ω–∏–∑–º
python3 merge_files.py --category distortions --files achievements perfectionism --output achievements_perfectionism
```

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü–µ—Ä–µ–¥ –º–∞—Å—Å–æ–≤—ã–º –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ–º —Ñ–∞–π–ª–æ–≤ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–¥–µ–ª–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é
2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--dry-run` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞–ª–∏—á–∏—è –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤
3. **–ö–æ–¥–∏—Ä–æ–≤–∫–∞**: –°–∫—Ä–∏–ø—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Å UTF-8 –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≤—Å–µ—Ö —è–∑—ã–∫–æ–≤
4. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ JSON**: –ò—Å—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∞–ª–∏–¥–Ω—ã–º–∏ JSON
5. **–ò–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ –±–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è `.json`

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω
```
‚ùå ru/depression/control.json - —Ñ–∞–π–ª –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
```
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –ø—É—Ç–∏ –∏ –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–∞

### –û—à–∏–±–∫–∞ JSON
```
‚ùå –û—à–∏–±–∫–∞ JSON –≤ —Ñ–∞–π–ª–µ control.json: Expecting ',' delimiter
```
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å JSON –≤ –∏—Å—Ö–æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ

### –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
```
‚ùå –ë–∞–∑–æ–≤—ã–π –ø—É—Ç—å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: src/i18n
```
**–†–µ—à–µ–Ω–∏–µ**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏–∑ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞

## –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

–°–∫—Ä–∏–ø—Ç –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ CI/CD –ø–∞–π–ø–ª–∞–π–Ω–∞—Ö –∏–ª–∏ –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏. –ù–∞–ø—Ä–∏–º–µ—Ä:

```bash
#!/bin/bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –≥—Ä—É–ø–ø —Ñ–∞–π–ª–æ–≤

# Depression —Ñ–∞–π–ª—ã
python3 merge_files.py --category depression --files control death diagnostic --output control_death_diagnostic

# Distortions —Ñ–∞–π–ª—ã
python3 merge_files.py --category distortions --files achievements approval autonomy --output achievements_approval_autonomy
python3 merge_files.py --category distortions --files key love omnipotence --output key_love_omnipotence

echo "–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!"
```